webpackJsonp([1],{"3iuG":function(e,t){},If12:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=a("Dd8w"),l=a.n(s),r=a("bOdI"),n=a.n(r),o=a("woOf"),c=a.n(o),h=a("NYxO"),u=(i={data:function(){return{pickerOptions1:{disabledDate:function(e){return e.getTime()>Date.now()}},value1:"",value2:""}},computed:l()({},Object(h.c)(["searchConfig","searchParams"])),created:function(){this.initView()}},n()(i,"data",function(){return{initSearch:{page:1,rows:20}}}),n()(i,"methods",l()({},Object(h.b)(["setSearchParams","setToast"]),{initView:function(){},searchSubmit:function(){var e=UtilTool.parseCheck(this.searchConfig.searchItem);for(var t in this.searchParams)if(e[t])for(var a in e[t]){var i=e[t][a];if(this.searchParams[t]&&!this.searchParams[t].match(RegExpType[i.type]))return this.setToast({isShow:!0,msg:i.msg,type:"warning"}),!1}this.$router.push({path:this.$route.path,query:c()({},UtilTool.stringifyQuery(this.searchParams),this.initSearch,{t:(new Date).getTime()})})},toBoolean:function(e){return/^true$/g.test(e)},resetSearch:function(){var e={};this.searchConfig.searchItem.map(function(t){t.items?t.items.map(function(t){e[t.key]=t.isClear?"":t.intKey}):e[t.key]=t.isClear?"":t.intKey}),this.setSearchParams(e)}})),n()(i,"watch",{"$route.name":function(){this.initView()}}),i),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item-box"},[a("div",{staticClass:"block-box"},[e._l(e.searchConfig.searchItem.filter(function(e){return!e.isSearchHide}),function(t){return[t.type?a("div",{staticClass:"inline-box mg-r"},[!t.isSlot&&t.label&&"-"!=t.label?a("span",{staticClass:"label-sign"},[e._v(e._s(t.label))]):e._e(),e._v(" "),"-"==t.label?a("span",{staticStyle:{"margin-left":"-15px"}},[e._v("-")]):e._e(),e._v(" "),"input"==t.type?a("el-input",{staticClass:"input-item-middle",style:t.width?"width:"+t.width:"",attrs:{size:"small",placeholder:t.placeholder},model:{value:e.searchParams[t.key],callback:function(a){e.$set(e.searchParams,t.key,"string"==typeof a?a.trim():a)},expression:"searchParams[item.key]"}}):"select"==t.type?a("el-select",{staticClass:"input-item-middle",style:t.width?"width:"+t.width:"",attrs:{filterable:t.filterable,size:"small",placeholder:t.placeholder},model:{value:e.searchParams[t.key],callback:function(a){e.$set(e.searchParams,t.key,a)},expression:"searchParams[item.key]"}},[e._l(t.options,function(e){return[a("el-option",{attrs:{label:e.label,value:e.value}})]})],2):e._e(),e._v(" "),"date"==t.type?a("el-date-picker",{staticClass:"input-item-middle",attrs:{align:"right",size:"small",type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:t.placeholder},model:{value:e.searchParams[t.key],callback:function(a){e.$set(e.searchParams,t.key,"string"==typeof a?a.trim():a)},expression:"searchParams[item.key]"}}):t.items&&"check-group"==t.type?[e._l(t.items,function(t){return[a("el-checkbox",{model:{value:e.searchParams[t.key],callback:function(a){e.$set(e.searchParams,t.key,a)},expression:"searchParams[subItem.key]"}},[e._v(e._s(t.label))])]})]:e._e(),e._v(" "),t.isSlot?[e._t(t.slotName)]:e._e()],2):e._e()]})],2),e._v(" "),a("div",{staticClass:"block-box inline-r"},[e._l(e.searchConfig.searchMenu,function(t){return["search"==t.type?a("el-button",{attrs:{type:t.style,size:"small"},on:{click:e.searchSubmit}},[e._v(e._s(t.label))]):e._e(),e._v(" "),t.isSlot?[e._t(t.slotName)]:e._e()]}),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.resetSearch}},[e._v("重 置")])],2)])},staticRenderFns:[]};var m=a("VU/8")(u,d,!1,function(e){a("3iuG")},"data-v-7fe86b6e",null).exports,p={methods:l()({},Object(h.b)(["setSearchConfig","setSearchParams"]),{paramsInit:function(){var e={};this.searchPage.searchItem.map(function(t){t.items?t.items.map(function(t){e[t.key]=t.intKey}):e[t.key]=t.intKey}),this.setSearchConfig(this.searchPage),this.setSearchParams(e)}}),components:{vSearch:m}},y={props:["paging"],methods:{handleSizeChange:function(e){this.nextPage({rows:e})},handleCurrentChange:function(e){this.nextPage({page:e})},nextPage:function(e){var t=c()({},this.$route.query,e);this.$router.push({path:this.$route.path,query:t})}}},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-box"},[t("el-pagination",{attrs:{"current-page":this.paging.currentPage,"page-sizes":this.paging.pageSizes,"page-size":this.paging.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.paging.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},staticRenderFns:[]},v=a("VU/8")(y,g,!1,null,null,null).exports,b={mixins:[{computed:l()({},Object(h.c)(["searchConfig","searchParams"])),data:function(){return{loading:!1,paging:{currentPage:1,pageSizes:[20,30,50,100],pageSize:0,total:0},pagingShow:!1,searchResult:{}}},methods:l()({},Object(h.b)(["setSearchParams","setStartToast"]),{initView:function(){var e=UtilTool.parseQuery(this.$route.query),t=UtilTool.paramsAssign(e,this.searchParams);this.setSearchParams(t),this.searchList(t)},setPage:function(){this.paging.pageSize=Number(this.searchParams.rows),this.paging.currentPage=Number(this.searchParams.page),this.paging.total=this.searchResult.total,this.pagingShow=!0},getToast:function(e){this.setStartToast({isShow:!0,msg:e,type:"warning"})}}),components:{vPagination:v},watch:{$route:function(e,t){e.fullPath!==t.fullPath&&this.initView()}}}],created:function(){this.initView()},data:function(){return{}},methods:l()({},Object(h.b)(["getProductList"]),{searchList:function(e){var t=this;this.loading=!0,this.getProductList(e).then(function(e){e&&(t.searchResult=e,t.setPage()),t.loading=!1})}})},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item-box"},[a("div",{staticClass:"item-table"},[a("div",{staticClass:"item-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"","element-loading-text":"拼命加载中",data:e.searchResult.list}},[e._l(e.searchConfig.searchResult,function(t,i){return["image"==t.type?a("el-table-column",{attrs:{label:t.label,"min-width":t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"table-image"},[a("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.row[t.key],alt:""}})])]}}])}):"operate"==t.type?a("el-table-column",{attrs:{label:t.label,"min-width":t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[e._l(t.items,function(t){return[a("el-button",{attrs:{size:"small",type:t.type}},[e._v(e._s(t.label))])]})]}}])}):a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:t.align}})]})],2)],1),e._v(" "),e.pagingShow?a("v-pagination",{attrs:{paging:e.paging}}):e._e()],1)])},staticRenderFns:[]},_=a("VU/8")(b,f,!1,null,null,null).exports,k={mixins:[p],created:function(){this.initView(),this.initSelectGroupName(),this.initProductVchats()},data:function(){return{todayTotalGmv:0,historyTotalGmv:0,orderTypeValue:"4",orderTypes:[{label:"环球捕手",value:"4"},{label:"美食买手",value:"10"}],chartsTime:new Date((new Date).getTime()-864e5),searchPage:{searchItem:[{type:"",key:"page",intKey:1},{type:"",key:"rows",intKey:20},{type:"date",label:"付款时间",placeholder:"选择日期",key:"payTime",intKey:UtilTool.formatDate(new Date,"yyyy-MM-dd"),isClear:!1},{type:"input",label:"销售单元码",placeholder:"",key:"saleUnitCode",intKey:"",isClear:!0},{type:"input",label:"销售商品码",placeholder:"",key:"saleGoodsCode",intKey:"",isClear:!0},{type:"input",label:"销售单元名称",filterable:!1,placeholder:"",key:"saleUnitName",intKey:""},{type:"select",label:"经理分组名称",filterable:!0,placeholder:"请选择",key:"groupName",intKey:"",options:[]},{type:"select",label:"订单类型",filterable:!0,placeholder:"请选择",key:"type",intKey:"4",isClear:!0,options:[{label:"请选择",value:""},{label:"环球捕手",value:"4"},{label:"美食买手",value:"10"}]}],searchMenu:[{label:"查询",type:"search",style:"primary"},{isSlot:!0,slotName:"private-menu"},{isSlot:!0,slotName:"isExport"}],searchResult:[{label:"销售单元码",key:"saleUnitCode",width:"150",align:"center"},{label:"销售商品码",key:"saleGoodsCode",width:"180",align:"center"},{label:"销售单元名称",key:"saleUnitName",width:"250",align:"center"},{label:"经理分组名称",key:"groupName",width:"140",align:"center"},{label:"经理分组经理名称",key:"managerName",width:"140",align:"center"},{label:"gmv",key:"gmvStr",width:"80",align:"center"},{label:"实付",key:"realPriceStr",width:"100",align:"center"},{label:"成本不含运费",key:"costStr",width:"80",align:"center"},{label:"销售数量",key:"productCount",width:"70",align:"center"},{label:"库存",key:"saleUnitCount",width:"80",align:"center"}]},chartSettings:{labelMap:{historyGmv:"历史每小时gmv累计",currentGmv:"今日每小时gmv累计",historyCost:"历史每小时实付累计",currentCost:"今日每小时实付累计"}},chartData:{columns:["date","historyGmv","currentGmv","historyCost","currentCost"],rows:[]}}},computed:l()({},Object(h.c)(["searchParams"])),methods:l()({},Object(h.b)(["changeState","changeSaleProductVcharts","exportSaleProduct"]),{initView:function(){this.paramsInit()},initSelectGroupName:function(){var e=this;this.changeState().then(function(t){var a=e.searchPage.searchItem;for(var i in a)"groupName"===a[i].key&&(a[i].options=t)},function(e){})},initProductVchats:function(){var e=this,t=UtilTool.formatDate(new Date(this.chartsTime),"yyyy-MM-dd");if(t>=UtilTool.formatDate(new Date,"yyyy-MM-dd"))this.$alert("付款日期不能大于等于当前日期","提示");else{var a={payTime:t,orderType:this.orderTypeValue};this.changeSaleProductVcharts(a).then(function(t){e.chartData.rows=t.list,e.todayTotalGmv=t.todayTotalGmv,e.historyTotalGmv=t.historyTotalGmv})}},exportProductSale:function(){var e=UtilTool.deepCopy(this.searchParams);delete e.rows,delete e.page,window.location.href=REQUEST_URL+"/api/order/exportSaleProduct?"+qs.stringify(e)}}),components:{vResult:_}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title-box"},[e._v("\n    销售单元纬度数据统计表\n  ")]),e._v(" "),a("div",{staticClass:"section-box"},[a("div",{staticClass:"block-box"},[a("div",{staticClass:"inline-box mg-r"},[a("span",{staticClass:"label-sign"},[e._v("订单类型")]),e._v(" "),a("el-select",{staticClass:"input-item-middle",attrs:{size:"small",placeholder:"请选择"},model:{value:e.orderTypeValue,callback:function(t){e.orderTypeValue=t},expression:"orderTypeValue"}},e._l(e.orderTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"inline-box mg-r"},[a("span",{staticClass:"label-sign"},[e._v("历史付款时间")]),e._v(" "),a("el-date-picker",{staticClass:"input-item-middle",attrs:{align:"right",type:"date",size:"small",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","default-value":e.chartsTime},model:{value:e.chartsTime,callback:function(t){e.chartsTime=t},expression:"chartsTime"}})],1),e._v(" "),a("div",{staticClass:"inline-box mg-r"},[a("span",{staticClass:"label-sign"},[e._v("今日累计gmv")]),e._v(" "),a("div",{staticStyle:{color:"red"}},[e._v(e._s(e.todayTotalGmv))])]),e._v(" "),a("div",{staticClass:"inline-box mg-r"},[a("span",{staticClass:"label-sign"},[e._v("历史累计gmv")]),e._v(" "),a("div",{staticStyle:{color:"red"}},[e._v(e._s(e.historyTotalGmv))])])]),e._v(" "),a("div",{staticClass:"block-box inline-r"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.initProductVchats}},[e._v("查询")])],1)]),e._v(" "),a("div",[a("ve-line",{attrs:{data:e.chartData,settings:e.chartSettings}})],1),e._v(" "),a("div",{staticClass:"section-box"},[a("v-search",[a("el-button",{attrs:{slot:"isExport",size:"small"},on:{click:e.exportProductSale},slot:"isExport"},[e._v("导出")])],1),e._v(" "),a("v-result")],1)])},staticRenderFns:[]},C=a("VU/8")(k,w,!1,null,null,null);t.default=C.exports}});
//# sourceMappingURL=1.102152fd8bf1750cc5fe.js.map